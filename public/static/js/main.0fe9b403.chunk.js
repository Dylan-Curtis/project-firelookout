(this["webpackJsonpreact-rails-api-project-template-client"]=this["webpackJsonpreact-rails-api-project-template-client"]||[]).push([[0],{30:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),s=n(25),c=n.n(s),i=(n(30),n(4)),o=n(3),l=n(5),j=n.n(l),u=n(7),d=n(6),b="data:image/png;base64,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",m=n(0);var O=function(e){var t=e.reviews,n=Object(a.useState)(null),r=Object(i.a)(n,2),s=r[0],c=r[1];return Object(a.useEffect)((function(){if(t&&t.length>0){var e=t.reduce((function(e,t){return e+t.rating}),0)/t.length;c(e)}}),[t]),Object(m.jsx)("div",{children:Object(m.jsx)("span",{className:"trail-rating",children:function(){for(var e=Math.round(2*s)/2,t=[],n=1;n<=5;n++)n<=e?t.push(Object(m.jsx)("span",{children:"\u2605"},n)):n===Math.ceil(e)&&e%1!==0?t.push(Object(m.jsx)("img",{src:b,alt:"Half Star",className:"half-star-icon"},n)):t.push(Object(m.jsx)("span",{children:"\u2606"},n));return t}()})})};var h=function(e){var t=e.trail,n=e.reviews,r=Object(a.useContext)(Z),s=r.user,c=(r.setUser,Object(a.useState)(!1)),o=Object(i.a)(c,2),l=o[0],b=o[1];Object(a.useEffect)((function(){(function(){var e=Object(u.a)(j.a.mark((function e(){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/likes/show?trail_id=".concat(t.id,"&user_id=").concat(s.id));case 3:if(!(n=e.sent).ok){e.next=11;break}return e.next=7,n.json();case 7:a=e.sent,b(a),e.next=12;break;case 11:console.error("Failed to check liked status for trail");case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.error("An error occurred while processing the request",e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var h=function(){var e=Object(u.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/like-trail",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({trail_id:t.id,user_id:s.id})});case 3:e.sent.ok?b(!l):console.error("Failed to like/unlike trail"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("An error occurred while processing the request",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"TrailCard trail-card",children:[Object(m.jsxs)("div",{className:"image-container",children:[Object(m.jsx)(d.b,{to:"/trail/".concat(t.id),children:Object(m.jsx)("img",{src:t.image,alt:t.name,className:"trail-image"})}),Object(m.jsx)("button",{onClick:h,className:"heart-button ".concat(l?"liked":""),children:l?"\u2764\ufe0f":"\ud83e\udd0d"})]}),Object(m.jsxs)("div",{className:"trail-details",children:[Object(m.jsxs)("span",{children:[Object(m.jsx)("h3",{className:"trail-name",children:t.name}),Object(m.jsx)("div",{className:"trail-rating-card",children:Object(m.jsx)(O,{reviews:t.reviews,trail:t})})]}),Object(m.jsxs)("div",{className:"trail-length",children:[t.length," mi",Object(m.jsxs)("span",{className:"review-count",children:[n.length," ",1===n.length?"Review":"Reviews"]})]})]})]})},A="data:image/png;base64,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",p=n.p+"static/media/SignInBackground.6e9b495c.png";var g=function(e){var t=e.setUser,n=e.setErrors,r=e.errors,s=Object(a.useState)(""),c=Object(i.a)(s,2),l=c[0],j=c[1],u=Object(a.useState)(""),b=Object(i.a)(u,2),O=b[0],h=b[1],g=Object(a.useState)(""),f=Object(i.a)(g,2),x=f[0],v=f[1],C=Object(o.m)(),N=(new Date).toISOString().split("T")[0],k={backgroundImage:"url(".concat(p,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",minHeight:"67vh",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"};return Object(m.jsx)("div",{className:"container",style:k,children:Object(m.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),O&&l&&x){var a={name:O,password:l,email:x,member_since:N,profile_icon:Math.floor(6*Math.random())+1};fetch("/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){201===e.status?e.json().then((function(e){t(e),C("/")})):(e.json().then((function(e){return n([e.errors])})),setTimeout((function(){n([])}),5e3))}))}else n(["Please fill in all fields"])},className:"form",children:[Object(m.jsx)("img",{className:"lookoutImageForm",alt:"lookoutLogo",src:A}),Array.isArray(r)&&r.map((function(e){return Object(m.jsx)("p",{style:{color:"red"},children:e},e)})),Object(m.jsx)("div",{className:"title",children:"Sign Up To Plan Your Next Hike!"}),Object(m.jsx)("label",{htmlFor:"name"}),Object(m.jsx)("input",{placeholder:"User Name",className:"input-container",type:"text",name:"name",value:O,onChange:function(e){return h(e.target.value)}}),Object(m.jsx)("label",{htmlFor:"password"}),Object(m.jsx)("input",{placeholder:"Password",className:"input-container",type:"password",name:"password",value:l,onChange:function(e){return j(e.target.value)}}),Object(m.jsx)("label",{htmlFor:"email"}),Object(m.jsx)("input",{placeholder:"Email Address",className:"input-container",type:"email",name:"email",value:x,onChange:function(e){return v(e.target.value)}}),Object(m.jsx)("button",{type:"submit",className:"submit",children:"SIGN UP"}),Object(m.jsxs)("div",{className:"subtitle",children:["Have An Account Already? ",Object(m.jsx)(d.b,{to:"/login",children:" Log In!"})]}),Object(m.jsxs)("div",{className:"TOSNotice",children:["By continuing to use Lookout Trails, you agree to our ",Object(m.jsx)("strong",{children:"Terms of Service"})," and ",Object(m.jsx)("strong",{children:"Privacy Policy."})]})]})})},f=n.p+"static/media/HeadImage.e85942c1.png";var x=function(e){var t=e.user,n=e.setUser,r=e.setErrors,s=e.setTrails,c=e.errors,i=e.trails;if(Object(a.useEffect)((function(){t||function(){var e=Object(u.a)(j.a.mark((function e(){var t,a,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("authorized_user");case 2:if(!(t=e.sent).ok){e.next=11;break}return e.next=6,t.json();case 6:a=e.sent,n(a),console.log(a),e.next=15;break;case 11:return e.next=13,t.json();case 13:s=e.sent,r(s);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t,r,n]),Object(a.useEffect)((function(){t&&function(){var e=Object(u.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("trails");case 3:if(!(t=e.sent).ok){e.next=9;break}return e.next=7,t.json();case 7:n=e.sent,s(n);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}()().catch(console.error)}),[t,s,r]),Object(a.useEffect)((function(){}),[i]),console.log(t),!t)return Object(m.jsxs)("span",{className:"comboForm",children:["  ",Object(m.jsx)(g,{setUser:n,errors:c,setErrors:r,user:t})]});var o=i&&i.map((function(e){return Object(m.jsx)(h,{trail:e,reviews:e.reviews,setLike:!0},e.id)}));return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("img",{className:"headImage",src:f,alt:"lookoutimg"}),Object(m.jsx)("div",{className:"trailList",children:o})]})},v=(n(33),n.p+"static/media/Bear.a4e9a610.png"),C=n.p+"static/media/Deer.8d689cf9.png",N=n.p+"static/media/Hawk.607fb442.png",k=n.p+"static/media/Goat.496635ca.png",B=n.p+"static/media/Marmot.84caa1ff.png",w=n.p+"static/media/LookoutMountain.4a2dd610.png",U=function(e){var t=e.iconIndex,n=[C,v,N,k,w,B],a=Math.max(0,Math.min(t-1,n.length-1));return Object(m.jsx)("img",{src:n[a],alt:"Profile Icon ".concat(a+1),className:"profile-pic-header"})};var E=function(e){var t=e.user;return console.log(t),Object(m.jsx)("div",{className:"header-container",children:Object(m.jsx)("nav",{children:Object(m.jsx)("h1",{id:"links",children:Object(m.jsxs)("h1",{className:"nav",children:[Object(m.jsx)("img",{className:"lookoutImage",alt:"lookoutLogo",src:A}),Object(m.jsx)("div",{className:"LookoutTrails",children:Object(m.jsx)("strong",{children:"LOOKOUT TRAILS"})}),Object(m.jsxs)(d.b,{to:"/",className:"HikeATrail",children:[" ",Object(m.jsx)("strong",{children:"Hike a Trail"})]}),Object(m.jsxs)(d.b,{to:"/create-trail",className:"CreateATrail",children:[" ",Object(m.jsx)("strong",{children:" Create a Trail"})]}),t?Object(m.jsxs)(d.b,{to:"/user",className:"userInfoHeader",children:[Object(m.jsxs)("span",{className:"userInfoName",children:[" Hello, ",t.name,Object(m.jsx)(U,{iconIndex:t.profile_icon})]})," "]}):Object(m.jsxs)("div",{className:"login-div",children:[Object(m.jsx)(d.b,{to:"login",children:Object(m.jsx)("button",{className:"logInButton",children:"Login"})})," ",Object(m.jsx)(d.b,{to:"signup",children:Object(m.jsx)("button",{className:"signupButton",children:"Sign Up"})})," "]})]})})})})};var I=function(){var e=Object(a.useContext)(Z),t=e.user,n=e.setUser;return Object(m.jsx)("footer",{id:"links",children:Object(m.jsxs)("h1",{className:"foot",children:[Object(m.jsx)("img",{className:"lookoutImageFooter",alt:"lookoutLogo",src:"data:image/png;base64,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"}),Object(m.jsxs)("div",{className:"footer-content ",children:[Object(m.jsx)("div",{className:"LookoutTrails-footer",children:Object(m.jsx)("strong",{children:"LOOKOUT TRAILS"})}),Object(m.jsx)(d.b,{className:"footer-links",to:"/",children:Object(m.jsx)("strong",{children:"Hike a Trail"})}),Object(m.jsx)(d.b,{className:"footer-links",to:"/create-trail",children:Object(m.jsx)("strong",{children:"Create a Trail"})}),t?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(d.b,{className:"footer-links",to:"/user",children:Object(m.jsx)("strong",{children:"View Profile"})}),Object(m.jsx)(d.b,{className:"footer-links",to:"/signup",onClick:function(e){e.preventDefault(),fetch("/logout",{method:"DELETE"}).then((function(e){204===e.status&&n(null)})).catch((function(e){console.error("Error:",e)}))},children:Object(m.jsx)("strong",{children:"Logout"})})]}):Object(m.jsx)(d.b,{className:"footer-links",to:"/login",children:Object(m.jsx)("strong",{children:"Login"})})]})]})})};var S=function(e){var t=e.onLogin,n=e.setErrors,r=e.errors,s=Object(a.useState)(""),c=Object(i.a)(s,2),l=c[0],j=c[1],u=Object(a.useState)(""),b=Object(i.a)(u,2),O=b[0],h=b[1],g=Object(o.m)(),f={backgroundImage:"url(".concat(p,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",minHeight:"67vh",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"};return Object(m.jsx)("div",{className:"container",style:f,children:Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:l,password:O})}).then((function(e){e.ok?(e.json().then((function(e){return t(e)})),g("/")):e.json().then((function(e){return n([e.error])})),setTimeout((function(){n([])}),5e3)}))},class:"form",children:[Object(m.jsx)("img",{className:"lookoutImageForm",alt:"lookoutLogo",src:A}),Array.isArray(r)&&r.map((function(e){return Object(m.jsx)("p",{style:{color:"red"},children:e},e)})),Object(m.jsx)("div",{class:"title",children:"Welcome Back!"}),Object(m.jsx)("input",{type:"text",id:"email",autoComplete:"off",class:"input-container",value:l,placeholder:"Email Address",onChange:function(e){return j(e.target.value)}}),Object(m.jsx)("label",{htmlFor:"password"}),Object(m.jsx)("input",{type:"password",id:"password",class:"input-container",autoComplete:"current-password",value:O,placeholder:"Password",onChange:function(e){return h(e.target.value)}}),Object(m.jsx)("button",{type:"submit",class:"submit",children:"LOG IN"}),Object(m.jsxs)("div",{class:"subtitle",children:["Don't Have an Account?",Object(m.jsx)(d.b,{to:"/signup",children:" Sign Up!"})]}),Object(m.jsxs)("div",{className:"TOSNotice",children:["By continuing to use Lookout Trails, you agree to our ",Object(m.jsx)("strong",{children:"Terms of Service"})," and ",Object(m.jsx)("strong",{children:"Privacy Policy."})]})]})})},T=n(9),y=n.p+"static/media/ReviewBackground.ab146dba.png";var F=function(e){var t=e.setReviews,n=e.trail,r=e.setShowReviewForm,s=Object(a.useState)(0),c=Object(i.a)(s,2),o=c[0],l=c[1],j=Object(a.useState)(""),u=Object(i.a)(j,2),d=u[0],b=u[1],O=Object(a.useState)(""),h=Object(i.a)(O,2),p=h[0],g=h[1],f=Object(a.useState)(""),x=Object(i.a)(f,2),v=x[0],C=x[1],N=Object(a.useContext)(Z).user,k={backgroundImage:"url(".concat(y,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",minHeight:"67vh",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},B={rating:o,body:d,date:v,user_id:N.id,condition:p,trail_id:n.id};return Object(m.jsx)("div",{className:"container",style:k,children:Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("/new-review",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(B)}).then((function(e){return e.json()})).then((function(e){t((function(t){return[].concat(Object(T.a)(t),[e])})),r(!1)})).catch((function(e){console.error("Error:",e)}))},className:"form",children:[Object(m.jsx)("img",{className:"lookoutImageForm",alt:"lookoutLogo",src:A}),Object(m.jsx)("div",{className:"title",children:n.name}),Object(m.jsx)("div",{className:"stars",children:[1,2,3,4,5].map((function(e){return Object(m.jsx)("span",{className:"trail-rating-big",onClick:function(){l(e)},children:e<=o?"\u2605":"\u2606"},e)}))}),Object(m.jsx)("label",{className:"revew-form-lables",children:"Date"}),Object(m.jsx)("input",{className:"input-container",name:"date",type:"date",value:v,onChange:function(e){return C(e.target.value)},required:!0}),Object(m.jsx)("label",{className:"revew-form-lables",children:"Condition"}),Object(m.jsxs)("select",{className:"condition-dropdown",name:"condition",value:p,onChange:function(e){return g(e.target.value)},required:!0,children:[Object(m.jsx)("option",{value:"",children:"Select condition"}),Object(m.jsx)("option",{value:"Good",children:"Good"}),Object(m.jsx)("option",{value:"Bad",children:"Bad"}),Object(m.jsx)("option",{value:"Normal",children:"Normal"}),Object(m.jsx)("option",{value:"Snowy",children:"Snowy"}),Object(m.jsx)("option",{value:"Washed Out",children:"Washed Out"})]}),Object(m.jsx)("label",{className:"revew-form-lables",children:"Review"}),Object(m.jsx)("textarea",{className:"input-container",placeholder:"Leave Your Review Here",value:d,onChange:function(e){return b(e.target.value)},required:!0}),Object(m.jsxs)("span",{className:"button-container",children:[Object(m.jsx)("button",{type:"submit",className:"submit",children:"Post"}),Object(m.jsx)("button",{onClick:function(){return r(!1)},className:"submit",children:"Go Back"})]})]})})},Q=n(8),q=n(24),K=n.p+"static/media/CreateATrailBackground.0b51c3ef.png";var z=function(){var e=Object(o.m)(),t=Object(a.useState)({name:"",elevation_gain:"",length:"",body:"",image:"",map:""}),n=Object(i.a)(t,2),r=n[0],s=n[1],c={backgroundImage:"url(".concat(K,")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",minHeight:"77vh",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"};function l(e){s(Object(q.a)(Object(q.a)({},r),{},Object(Q.a)({},e.target.name,e.target.value)))}return Object(m.jsx)("div",{className:"container",style:c,children:Object(m.jsxs)("form",{onSubmit:function(t){t.preventDefault(),fetch("/trails",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then((function(t){201===t.status?(s({name:"",elevation_gain:"",length:"",body:"",image:"",map:""}),e("/")):console.error("Failed to create a new trail.")}))},className:"formContainer",class:"form",children:[Object(m.jsx)("img",{className:"lookoutImageForm",alt:"lookoutLogo",src:A}),Object(m.jsx)("h1",{class:"title",children:"Create A Trail"}),Object(m.jsx)("input",{type:"text",name:"name",placeholder:"Trail Name",class:"input-container",onChange:l}),Object(m.jsx)("input",{type:"text",name:"elevation_gain",placeholder:"Elevation Gain in feet",class:"input-container",onChange:l}),Object(m.jsx)("input",{type:"text",name:"length",class:"input-container",placeholder:"Enter length in miles",onChange:l}),Object(m.jsx)("input",{type:"text",name:"image",class:"input-container",placeholder:"image URL",onChange:l}),Object(m.jsx)("input",{type:"text",name:"map",class:"input-container",placeholder:"map URL",onChange:l}),Object(m.jsx)("input",{type:"text",name:"body",class:"input-container",placeholder:"Write a small discription",onChange:l}),Object(m.jsx)("button",{class:"submit",children:" Save New Trail"})]})})};var P=function(e){var t=e.handleEditToggle,n=Object(a.useContext)(Z),r=n.user,s=n.setUser,c=Object(a.useState)(""),l=Object(i.a)(c,2),j=l[0],u=l[1],d=Object(a.useState)(""),b=Object(i.a)(d,2),O=b[0],h=b[1],p=Object(a.useState)(""),g=Object(i.a)(p,2),f=g[0],x=g[1],U=Object(a.useState)([]),E=Object(i.a)(U,2),I=E[0],S=E[1],T=Object(a.useState)(""),y=Object(i.a)(T,2),F=y[0],Q=y[1],q=Object(a.useState)(!1),K=Object(i.a)(q,2),z=K[0],P=K[1],H=[C,v,N,k,w,B],V=Object(o.m)();return Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("/users/".concat(r.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:j,name:O,blurb:f,profile_icon:F})}).then((function(e){e.ok?e.json().then((function(e){s(e),V("/")})):e.json().then((function(e){return S([e.error])})),setTimeout((function(){S([])}),5e3)}))},className:"form",children:[Object(m.jsx)("img",{className:"lookoutImageForm",alt:"lookoutLogo",src:A}),I.length>0&&I.map((function(e,t){return Object(m.jsx)("p",{style:{color:"red"},children:e},t)})),Object(m.jsx)("div",{className:"title",children:"Edit Profile"}),z?Object(m.jsxs)("div",{className:"revew-form-lables",children:[Object(m.jsx)("p",{children:"Are you sure you want to delete your profile?"}),Object(m.jsxs)("div",{className:"button-container",children:[Object(m.jsx)("button",{onClick:function(e){e.preventDefault(),fetch("/users/".concat(r.id),{method:"DELETE"}).then((function(e){204===e.status&&(s(null),V("/"))})).catch((function(e){console.error("Error deleting profile:",e)}))},className:"submit",children:"Yes"}),Object(m.jsx)("button",{onClick:function(){return P(!1)},className:"yellowButton",children:"No, go back"})]})]}):Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"deleteButtonContainer",children:Object(m.jsx)("button",{onClick:function(e){e.preventDefault(),P(!0)},className:"deleteButton",children:"DELETE USER"})}),Object(m.jsx)("label",{htmlFor:"name"}),Object(m.jsx)("input",{type:"text",id:"name",className:"input-container",value:O,placeholder:"Name",onChange:function(e){return h(e.target.value)}}),Object(m.jsx)("label",{htmlFor:"Email"}),Object(m.jsx)("input",{type:"email",id:"email",className:"input-container",autoComplete:"email",value:j,placeholder:"username@gmail.com",onChange:function(e){return u(e.target.value)}}),Object(m.jsx)("label",{htmlFor:"Blurb"}),Object(m.jsx)("textarea",{type:"text",id:"Blurb",className:"input-container",autoComplete:"no",value:f,placeholder:"Add an about me!",onChange:function(e){return x(e.target.value)}}),Object(m.jsxs)("div",{className:"profile-icons",children:[Object(m.jsx)("p",{className:"revew-form-lables",children:"Select a profile icon:"}),H.map((function(e,t){return Object(m.jsx)("img",{src:e,alt:"Profile Icon ".concat(t),className:"profile-pic-header ".concat(F===t+1?"selected":""),onClick:function(){return Q(t+1)}},t)}))]}),Object(m.jsxs)("div",{className:"button-container",children:[Object(m.jsx)("button",{type:"submit",className:"submit",children:"Save"}),Object(m.jsx)("button",{onClick:t,className:"yellowButton",children:"Back"})]})]})]})})};var H=function(e){var t=e.trail,n=e.review;return console.log(n),Object(m.jsxs)("div",{className:"TrailCard",children:[Object(m.jsx)("div",{className:"image-container",children:Object(m.jsx)(d.b,{to:"/trail/".concat(t.id),children:Object(m.jsx)("img",{src:t.image,alt:t.name,className:"trail-image"})})}),Object(m.jsxs)("div",{className:"trail-details",children:[Object(m.jsxs)("span",{children:[Object(m.jsx)("h3",{className:"trail-name",children:t.name}),Object(m.jsx)("div",{className:"trail-rating-card",children:Object(m.jsx)(O,{reviews:[n]})})]}),Object(m.jsx)("div",{children:n.body})]})]})},V=function(e){var t=e.iconIndex,n=[C,v,N,k,w,B];console.log(t);var a=Math.max(0,Math.min(t-1,n.length-1));return Object(m.jsx)("img",{src:n[a],alt:"Profile Icon ".concat(a+1),className:"profile-pic-user"})};var G=function(e){var t=e.handleEditToggle,n=Object(a.useContext)(Z),r=n.user;return n.setUser,Object(m.jsxs)("div",{className:"user-container",children:[Object(m.jsx)(V,{iconIndex:r.profile_icon}),Object(m.jsxs)("span",{className:"title-container",children:[Object(m.jsxs)("h3",{className:"title",children:[r.name,Object(m.jsx)("button",{onClick:t,className:"smallButton",children:"EDIT ACCOUNT"}),r.created_at]}),Object(m.jsxs)("div",{className:"user-member-since",children:[" Member Since ",r.member_since]}),r.blurb?Object(m.jsx)("div",{className:"user-blurb",children:r.blurb}):Object(m.jsx)("div",{className:"user-blurb",children:"Edit your profile to add an about me section"})]})]})};var D=function(){var e=Object(o.m)();return Object(m.jsxs)("div",{className:"empty-card-container",children:[Object(m.jsx)("img",{className:"lookoutImageForm",alt:"lookoutLogo",src:A}),Object(m.jsx)("strong",{className:"empty-card-title",children:"Like Some Trails"}),Object(m.jsx)("button",{className:"submit",onClick:function(){e("/")},children:"Explore Trails"})]})};var L=function(){var e=Object(o.m)();return Object(m.jsxs)("div",{className:"empty-card-container",children:[Object(m.jsx)("img",{className:"lookoutImageForm",alt:"lookoutLogo",src:A}),Object(m.jsx)("strong",{className:"empty-card-title",children:"Review Some Trails"}),Object(m.jsx)("button",{className:"submit",onClick:function(){e("/")},children:"Explore Trails"})]})};var M=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)([]),c=Object(i.a)(s,2),o=c[0],l=c[1],d=Object(a.useState)([]),b=Object(i.a)(d,2),O=b[0],A=b[1],p=Object(a.useContext)(Z),g=p.user,f=(p.setUser,function(){r(!n)});Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(j.a.mark((function e(){var t,n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/likes/".concat(g.id,"/liked_trails"));case 3:if(!(t=e.sent).ok){e.next=12;break}return e.next=7,t.json();case 7:n=e.sent,a=n.slice(0,4),l(a),e.next=13;break;case 12:console.error("Failed to fetch likes");case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.error("An error occurred while fetching likes",e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}function t(){return(t=Object(u.a)(j.a.mark((function e(){var t,n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/reviews/".concat(g.id));case 3:if(!(t=e.sent).ok){e.next=12;break}return e.next=7,t.json();case 7:n=e.sent,a=n.slice(0,4),A(a),e.next=13;break;case 12:console.error("Failed to fetch user reviews");case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.error("An error occurred while fetching user reviews",e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),function(){t.apply(this,arguments)}()}),[]);var x=o&&o.map((function(e){return Object(m.jsx)(h,{trail:e,reviews:e.reviews},e.id)})),v=O&&O.map((function(e){return Object(m.jsx)(H,{trail:e.trail,review:e},e.trail.id)}));return g?(console.log(g),Object(m.jsxs)("div",{children:[n?Object(m.jsx)("div",{children:Object(m.jsx)(P,{handleEditToggle:f})}):Object(m.jsx)(G,{handleEditToggle:f}),Object(m.jsxs)("h3",{className:"user-hikes",children:[g.name,"'s Favorite Lookout Hikes"]}),0===o.length?Object(m.jsx)(D,{}):Object(m.jsx)("div",{className:"user-liked-trails",children:x}),Object(m.jsxs)("div",{children:[Object(m.jsxs)("h3",{className:"user-hikes",children:[g.name,"'s Past Lookout Hikes"]}),0===O.length?Object(m.jsx)(L,{}):Object(m.jsx)("div",{className:"user-liked-trails",children:v})]})]})):Object(m.jsx)("div",{children:"Loading..."})};var R=function(e){var t=e.review;return console.log(t.condition),console.log(t),Object(m.jsxs)("div",{className:"review-item",children:[t.user&&t.user.name?Object(m.jsx)("div",{className:"review-name",children:t.user.name}):Object(m.jsx)("div",{className:"review-name",children:t.name}),Object(m.jsxs)("div",{className:"review-header",children:[Object(m.jsx)("div",{className:"review-date",children:t.date}),Object(m.jsx)("div",{className:"review-condition",children:t.condition}),Object(m.jsx)("div",{className:"trail-rating",children:function(){for(var e=Math.round(2*t.rating)/2,n=[],a=1;a<=5;a++)a<=e?n.push(Object(m.jsx)("span",{children:"\u2605"},a)):a===Math.ceil(e)&&e%1!==0?n.push(Object(m.jsx)("img",{src:b,alt:"Half Star",className:"half-star-icon"},a)):n.push(Object(m.jsx)("span",{children:"\u2606"},a));return n}()})]}),Object(m.jsx)("p",{children:t.body})]})};var J=function(e){var t=e.onSubmit,n=Object(a.useContext)(Z),r=n.user,s=(n.setUser,Object(o.o)().trailId),c=Object(a.useState)(null),l=Object(i.a)(c,2),d=l[0],b=l[1],h=Object(a.useState)(null),A=Object(i.a)(h,2),p=A[0],g=A[1],f=Object(a.useState)(!1),x=Object(i.a)(f,2),v=x[0],C=x[1],N=Object(a.useState)(!1),k=Object(i.a)(N,2),B=k[0],w=k[1],U=Object(a.useState)(!1),E=Object(i.a)(U,2),I=E[0],S=E[1];Object(a.useEffect)((function(){(function(){var e=Object(u.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/likes/show?trail_id=".concat(s,"&user_id=").concat(r.id));case 3:if(!(t=e.sent).ok){e.next=13;break}return e.next=7,t.json();case 7:n=e.sent,w(n),console.log(d.id),console.log(B),e.next=14;break;case 13:console.error("Failed to check liked status for trail");case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.error("An error occurred while processing the request",e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var T=function(){var e=Object(u.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/like-trail",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({trail_id:d.id,user_id:r.id})});case 3:e.sent.ok?w(!B):console.error("Failed to like/unlike trail"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("An error occurred while processing the request",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){fetch("/trails/".concat(s)).then((function(e){return e.json()})).then((function(e){g(e.reviews),b(e.trail)}))}),[s]),d?Object(m.jsx)("div",{children:v?Object(m.jsx)(F,{trail:d,setShowReviewForm:C,onSubmit:t,setReviews:g}):Object(m.jsxs)("div",{className:"trail-page-container",children:[Object(m.jsxs)("div",{className:"trail-page-image",children:[I?Object(m.jsx)("img",{src:d.map,alt:d.name,className:"trail-page-image"}):Object(m.jsx)("img",{src:d.image,alt:d.name,className:"trail-page-image"}),Object(m.jsx)("button",{onClick:function(){S(!I)},className:"map-button",children:Object(m.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD4AAAA+CAYAAABzwahEAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAALSSURBVHgB7ZvRcdswDIahXAdwJygzQZ0Jqk7QdIK4E7QbuNnAmSDpBG4noDpBvYG0gbMBCpS4VOeYFEVSii7kdwfLDxSEHxRFPfyqIBGIuKLDmuKG4kDxq6qqDl4jLJaiprinOOJzNMUNhYIXQOrbUrS9ehSEMiDWhp6rCVKfttRxHFWDJNvhOLE29twESAjlW6OZXZ/6dkPJUoo9B+e95+tAAGhu5a9on10b+iXE2mjRswkJatT9zm1xfrE2WjRNWJ/M7hbHz+45dIVmoXMHFCyTToKbsII0NBf08w3iRD+CKczGAeJQFDWkE/0PFv4exsNi7yg+0kvKWzr+doz9THFJ8YWigXng+n44R4xYM7z++YFSn8nx4DhPnYxVaJ7ELaZHS+6VXMc6bki4VWyo8JPz1nJui+Fwjd9Pa8QB4W/AzdWU79uUm9f/Rgqt5f8H8HvmNBS3lKOBAIaEz4YI4OAmXNNhbxnKz5NrGv8IEVzAMnHtBG2saGapwienCM+NIjw3ivDcKMJzowjPjSI8N4rw3CjCc6MIz40iPDeK8NwownOjCM+NIjw3ivDcKMJzI1o4Gp/6O8eQEDvZ5AQLR7FG098jGAOejZ84wqc6F6OEi9gtW6zA2EBrz1MVGEeTxjM+1ZRIjWzL/uMaN+h6kluZveXsRKohHgWmCRvK3dGRi4z6jEPuJK6P6/Syfg4J30rCpD7SHgqMcDYRNnR8ALc99IkQsX0qWac1LAu2e9mWQgdGaMxk3KXezth/1oDbzeyDa/0riBPdUexSCW8obikuaa2yo5ndyldgHMQdLAOeFK7R2FQx3PHvZfBl5Ekba9ZNWyMGfMiCYo2GAPB/E6b8wGd4QmSQTzK2Rifdeykfb2l7jMf77utfXKG9+xpneNuSGjY47u6L+nSrf2EtCVs0szvV3u1Ti60JT2Jj66tgwaD5uuETmO2Nd4hDCss28xdL8f7pcNOQlQAAAABJRU5ErkJggg==",alt:"Map"})})]}),Object(m.jsxs)("div",{className:"trail-page-content",children:[Object(m.jsxs)("div",{className:"trail-page-name",children:[d.name,Object(m.jsx)("button",{onClick:T,className:"trail-page-heart-button ".concat(B?"liked":""),children:B?"\u2764\ufe0f":"\ud83e\udd0d"})]}),Object(m.jsxs)("div",{className:"trail-page-info",children:[Object(m.jsx)(O,{className:"trail-page-rating",reviews:p,trail:d}),Object(m.jsxs)("div",{className:"trail-page-tags",children:["\u2022",d.length,"mi \u2022 ",d.elevation_gain," Feet of Elevation Gain \u2022",Object(m.jsx)("button",{className:"smallButton",onClick:function(){return C(!0)},children:"LEAVE A REVIEW"})]})]}),Object(m.jsx)("p",{className:"trail-page-body",children:d.body})]}),Object(m.jsxs)("div",{className:"trail-page-reviews",children:[Object(m.jsxs)("h3",{children:["Reviews"," "]}),p.length>0?Object(m.jsx)("div",{className:"review-list",children:p.map((function(e,t){return Object(m.jsx)(R,{review:e},t)}))}):Object(m.jsx)("p",{children:"No Reviews"})]})]})}):Object(m.jsx)("div",{children:"Loading..."})},Z=Object(a.createContext)(),W=Object(a.createContext)();var X=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(null),c=Object(i.a)(s,2),l=c[0],j=c[1],u=Object(a.useState)([]),d=Object(i.a)(u,2),b=d[0],O=d[1],h=Object(a.useState)(!1),A=Object(i.a)(h,2),p=A[0],f=A[1];return Object(m.jsx)(Z.Provider,{value:{user:l,setUser:j},children:Object(m.jsxs)("div",{children:[Object(m.jsx)(E,{user:l,setUser:j,setErrors:O,errors:b}),Object(m.jsx)("main",{children:Object(m.jsx)(W.Provider,{value:{liked:p,setLiked:f},children:Object(m.jsxs)(o.c,{children:[Object(m.jsx)(o.a,{path:"/",element:Object(m.jsx)(x,{trails:n,setTrails:r,user:l,setUser:j,errors:b,setErrors:O,liked:p,setLiked:f})}),Object(m.jsx)(o.a,{path:"/signup",element:Object(m.jsx)(g,{onLogin:j,errors:b,setErrors:O,user:l,setUser:j})}),Object(m.jsx)(o.a,{path:"/login",element:Object(m.jsx)(S,{onLogin:j,errors:b,setErrors:O,user:l,setUser:j})}),Object(m.jsx)(o.a,{path:"/trail-review",element:Object(m.jsx)(F,{errors:b,setErrors:O,user:l})}),Object(m.jsx)(o.a,{path:"/create-trail",element:Object(m.jsx)(z,{errors:b,setErrors:O,user:l})}),Object(m.jsx)(o.a,{path:"/user",element:Object(m.jsx)(M,{errors:b,setErrors:O,user:l})}),Object(m.jsx)(o.a,{path:"/trail/:trailId",element:Object(m.jsx)(J,{errors:b,setErrors:O,user:l,liked:p,setLiked:f})})]})})}),Object(m.jsx)(I,{})]})})},Y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,35)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),s(e),c(e)}))};c.a.render(Object(m.jsx)(d.a,{children:Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(X,{})})}),document.getElementById("root")),Y()}},[[34,1,2]]]);
//# sourceMappingURL=main.0fe9b403.chunk.js.map